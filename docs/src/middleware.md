# HTTP中间件

在一个 Web 应用程序中，Middleware（中间件）用于在处理请求和生成响应的过程中执行一些通用的逻辑。通常，这些逻辑包括对请求进行预处理、验证、日志记录、错误处理等操作。Middleware 是一种类似于过滤器或拦截器的机制，可以在请求到达处理器之前、处理器执行过程中、处理器执行完成之后等不同阶段插入自定义的逻辑。

Middleware 通常被组织到一个名为 middleware 的目录中。这个目录用于存放各种中间件的代码文件，以便于组织、管理和维护。

## 核心用途
以下是一些常见的 Middleware 的应用场景：

* **身份验证和授权**：检查用户是否已登录，以及用户是否有权限访问某些资源。如果用户未经身份验证或者没有足够的权限，可以重定向到登录页面或返回相应的错误信息。

* **日志记录**：记录请求和响应的相关信息，如请求方法、请求路径、响应状态码、处理时间等，以便后续的监控和分析。

* **错误处理**：捕获处理器执行过程中发生的错误，并返回适当的错误响应给客户端。这样可以避免将错误暴露给客户端，并提供更友好的错误信息。

* **请求预处理**：对请求进行预处理，例如解析请求体、验证请求参数、设置请求上下文等。这些操作可以减少处理器中的重复代码，并提高代码的可复用性和可维护性。

* **性能监控**：监控请求处理的性能指标，如处理时间、内存占用、数据库查询次数等。这些指标可以帮助开发人员识别潜在的性能瓶颈，并进行优化。

## 预置中间件
### 限流器

### 日志Trace

### 签名验证

### 跨域